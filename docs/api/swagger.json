{
    "components": {"schemas":{"auth.ConfirmationRequest":{"properties":{"discriminator":{"description":"Unique discriminator","example":"uniquename","type":"string"},"id":{"description":"User ID","example":2230469276416868352,"type":"integer"},"name":{"description":"User name","example":"FancyUserName","type":"string"},"password":{"description":"User password","example":"VerYstR0NgP@66WoR6","type":"string"},"token":{"description":"Registration token","example":"just_a_randomly_generated_text","type":"string"}},"type":"object"},"auth.LoginRequest":{"properties":{"email":{"description":"User Email","example":"user@example.com","type":"string"},"password":{"description":"User password","example":"VerYstR0NgP@66WoR6","type":"string"}},"type":"object"},"auth.LoginResponse":{"properties":{"refresh_token":{"description":"Refresh token. Used to refresh authentication token.","type":"string"},"token":{"description":"Authentication token","type":"string"}},"type":"object"},"auth.PasswordRecoveryRequest":{"properties":{"email":{"description":"User Email to receive recovery email","example":"user@example.com","type":"string"}},"type":"object"},"auth.PasswordResetRequest":{"properties":{"id":{"description":"User ID","example":2230469276416868352,"type":"integer"},"password":{"description":"New password","example":"N3wVerYstR0NgP@66WoR6","type":"string"},"token":{"description":"Reset token","example":"just_a_random_text_from_email","type":"string"}},"type":"object"},"auth.RefreshTokenResponse":{"properties":{"refresh_token":{"description":"Refresh token. Used to refresh authentication token.","type":"string"},"token":{"description":"Authentication token","type":"string"}},"type":"object"},"auth.RegisterRequest":{"properties":{"email":{"description":"User Email","example":"user@example.com","type":"string"}},"type":"object"},"dto.Attachment":{"properties":{"content_type":{"description":"File mime type","example":"image/png","type":"string"},"filename":{"description":"File name","example":"image.png","type":"string"},"height":{"description":"Image dimensions in pixels","example":600,"type":"integer"},"size":{"description":"FileSize in bytes","example":1000000,"type":"integer"},"url":{"description":"URL to download the file","example":"https://example.com/image.png","type":"string"},"width":{"description":"Image dimensions in pixels","example":800,"type":"integer"}},"type":"object"},"dto.AttachmentUpload":{"properties":{"channel_id":{"description":"Channel ID the attachment was sent to","example":2230469276416868352,"type":"integer"},"file_name":{"description":"File name","example":"image.png","type":"string"},"id":{"description":"Attachment ID","example":2230469276416868352,"type":"integer"},"upload_url":{"description":"Upload URL. S3 presigned URL","type":"string"}},"type":"object"},"dto.Channel":{"properties":{"created_at":{"description":"Timestamp of channel creation","type":"string"},"guild_id":{"description":"Guild ID channel was created in","example":2230469276416868352,"type":"integer"},"id":{"description":"Channel ID","example":2230469276416868352,"type":"integer"},"name":{"description":"Channel name, without spaces","example":"channel-name","type":"string"},"parent_id":{"description":"Parent channel id","example":2230469276416868352,"type":"integer"},"permissions":{"description":"Permissions. Check the permissions documentation for more info.","type":"integer"},"position":{"description":"Channel position","example":4,"type":"integer"},"topic":{"description":"Channel topic.","example":"Just a channel topic","type":"string"},"type":{"$ref":"#/components/schemas/model.ChannelType"}},"type":"object"},"dto.Guild":{"properties":{"icon":{"description":"Icon ID","example":2230469276416868352,"type":"integer"},"id":{"description":"Guild ID","example":2230469276416868352,"type":"integer"},"name":{"description":"Guild Name","example":"My Guild","type":"string"},"owner":{"description":"Owner ID","example":2230469276416868352,"type":"integer"},"permissions":{"default":7927905,"description":"Default guild Permissions. Check the permissions documentation for more info.","type":"integer"},"public":{"default":false,"description":"Whether the guild is public","type":"boolean"}},"type":"object"},"dto.Member":{"properties":{"avatar":{"description":"Avatar ID","example":2230469276416868352,"type":"integer"},"join_at":{"description":"Join date","type":"string"},"roles":{"description":"List of assigned role IDs","example":[2230469276416868352],"items":{"type":"integer"},"type":"array","uniqueItems":false},"user":{"$ref":"#/components/schemas/dto.User"},"username":{"description":"Username in this guild","example":"FancyUserName","type":"string"}},"type":"object"},"dto.Message":{"properties":{"attachments":{"items":{"$ref":"#/components/schemas/dto.Attachment"},"type":"array","uniqueItems":false},"author":{"$ref":"#/components/schemas/dto.User"},"channel_id":{"description":"Channel id the message was sent to","example":2230469276416868352,"type":"integer"},"content":{"example":"Hello world!","type":"string"},"id":{"description":"Message ID","example":2230469276416868352,"type":"integer"},"updated_at":{"description":"Timestamp of the last message edit","type":"string"}},"type":"object"},"dto.Role":{"properties":{"color":{"description":"Role color. Will change username color. Represent RGB color in one Integer value.","type":"integer"},"guild_id":{"description":"Guild ID","example":2230469276416868352,"type":"integer"},"id":{"description":"Role ID","example":2230469276416868352,"type":"integer"},"name":{"description":"Role name","example":"role-name","type":"string"},"permissions":{"description":"Role permissions. Check the permissions documentation for more info.","type":"integer"}},"type":"object"},"dto.User":{"description":"Guild member data","properties":{"avatar":{"example":2230469276416868352,"type":"integer"},"discriminator":{"example":"uniquename","type":"string"},"id":{"example":2230469276416868352,"type":"integer"},"name":{"example":"FancyUserName","type":"string"}},"type":"object"},"guild.ChannelOrder":{"properties":{"id":{"description":"Channel ID.","example":2230469276416868352,"type":"integer"},"position":{"description":"New channel position.","example":4,"type":"integer"}},"type":"object"},"guild.CreateGuildChannelCategoryRequest":{"properties":{"name":{"description":"Category channel name","example":"category-name","type":"string"},"private":{"default":false,"description":"Whether the category channel is private. Private channels can only be seen by users with roles assigned to this channel.","type":"boolean"}},"type":"object"},"guild.CreateGuildChannelRequest":{"properties":{"name":{"description":"Channel name","example":"channel-name","type":"string"},"parent_id":{"description":"Parent channel ID. A Parent channel can only be a category channel.","example":2230469276416868352,"type":"integer"},"private":{"default":false,"description":"Whether the channel is private. Private channels can only be seen by users with roles assigned to this channel.","type":"boolean"},"type":{"description":"Channel type","example":0,"type":"integer","x-enum-comments":{"ChannelTypeDM":"DM channel. Can't be created in Guild","ChannelTypeGroupDM":"Group DM channel. Can't be created in Guild'","ChannelTypeGuild":"Default text channel in guild","ChannelTypeGuildCategory":"Category channel in guild","ChannelTypeGuildVoice":"Voice channel in guild","ChannelTypeThread":"Thread channel"},"x-enum-varnames":["ChannelTypeGuild","ChannelTypeGuildVoice","ChannelTypeGuildCategory","ChannelTypeDM","ChannelTypeGroupDM","ChannelTypeThread"]}},"type":"object"},"guild.CreateGuildRequest":{"properties":{"icon_id":{"description":"Icon ID","example":2230469276416868352,"type":"integer"},"name":{"description":"Guild name","example":"My unique guild","type":"string"},"public":{"default":false,"description":"Whether the guild is public","type":"boolean"}},"type":"object"},"guild.PatchGuildChannelOrderRequest":{"properties":{"channels":{"description":"List of channels to change order.","items":{"$ref":"#/components/schemas/guild.ChannelOrder"},"type":"array","uniqueItems":false}},"type":"object"},"guild.PatchGuildChannelRequest":{"properties":{"name":{"description":"Channel name.","example":"new-channel-name","type":"string"},"parent_id":{"description":"Parent channel ID. A Parent channel can only be a category channel.","example":2230469276416868352,"type":"integer"},"private":{"default":false,"description":"Whether the channel is private. Private channels can only be seen by users with roles assigned to this channel.","type":"boolean"},"topic":{"description":"Channel topic.","example":"Just a channel topic","type":"string"}},"type":"object"},"guild.UpdateGuildRequest":{"properties":{"icon_id":{"description":"Icon ID","example":2230469276416868352,"type":"integer"},"name":{"description":"Guild name","example":"New guild name","type":"string"},"permissions":{"default":7927905,"description":"Permissions. Check the permissions documentation for more info.","type":"integer"},"public":{"default":false,"description":"Whether the guild is public","type":"boolean"}},"type":"object"},"message.SendMessageRequest":{"properties":{"attachments":{"description":"IDs of attached files","example":[2230469276416868352],"items":{"type":"integer"},"type":"array","uniqueItems":false},"content":{"description":"Message content","example":"Hello world!","type":"string"},"mentions":{"description":"IDs of mentioned users","example":[2230469276416868352],"items":{"type":"integer"},"type":"array","uniqueItems":false}},"type":"object"},"message.UpdateMessageRequest":{"properties":{"content":{"description":"Message content","example":"Hello world!","type":"string"}},"type":"object"},"message.UploadAttachmentRequest":{"properties":{"file_size":{"description":"File size in bytes","example":100000,"type":"integer"},"filename":{"description":"File name","example":"image.png","type":"string"},"height":{"description":"Image height in pixels","example":600,"type":"integer"},"width":{"description":"Image width in pixels","example":800,"type":"integer"}},"type":"object"},"model.ChannelType":{"description":"Channel type","example":0,"type":"integer","x-enum-comments":{"ChannelTypeDM":"DM channel. Can't be created in Guild","ChannelTypeGroupDM":"Group DM channel. Can't be created in Guild'","ChannelTypeGuild":"Default text channel in guild","ChannelTypeGuildCategory":"Category channel in guild","ChannelTypeGuildVoice":"Voice channel in guild","ChannelTypeThread":"Thread channel"},"x-enum-varnames":["ChannelTypeGuild","ChannelTypeGuildVoice","ChannelTypeGuildCategory","ChannelTypeDM","ChannelTypeGroupDM","ChannelTypeThread"]},"search.MessageSearchRequest":{"properties":{"author_id":{"description":"Author ID to search by.","example":2230469276416868352,"type":"integer"},"channel_id":{"description":"Channel ID to search in. Required.","example":2230469276416868352,"type":"integer"},"content":{"description":"Content contains a string to search for. Might be empty if need to search by other parameters.","example":"Hello world!","type":"string"},"has":{"description":"List of specific features to search for.","items":{"enum":["url","image","video","file"],"type":"string"},"type":"array","uniqueItems":false},"mentions":{"description":"Mentions contains a list of int64 user IDs.","example":[2230469276416868352],"items":{"type":"integer"},"type":"array","uniqueItems":false},"page":{"default":0,"description":"Page number to get. Starts from 0.","type":"integer"}},"type":"object"},"search.MessageSearchResponse":{"properties":{"messages":{"description":"List of messages","items":{"$ref":"#/components/schemas/dto.Message"},"type":"array","uniqueItems":false},"pages":{"description":"Total number of pages with current search parameters","type":"integer"}},"type":"object"},"user.CreateDMManyRequest":{"properties":{"channel_id":{"type":"integer"},"recipients_id":{"items":{"type":"integer"},"type":"array","uniqueItems":false}},"type":"object"},"user.CreateDMRequest":{"properties":{"recipient_id":{"type":"integer"}},"type":"object"},"user.ModifyUserRequest":{"properties":{"avatar":{"description":"Avatar ID.","example":2230469276416868352,"type":"integer"},"name":{"description":"User name.","example":"NewFancyName","type":"string"}},"type":"object"},"webhook.S3Bucket":{"properties":{"arn":{"type":"string"},"name":{"type":"string"},"ownerIdentity":{"$ref":"#/components/schemas/webhook.S3Identity"}},"type":"object"},"webhook.S3Element":{"properties":{"bucket":{"$ref":"#/components/schemas/webhook.S3Bucket"},"configurationId":{"type":"string"},"object":{"$ref":"#/components/schemas/webhook.S3Object"},"s3SchemaVersion":{"type":"string"}},"type":"object"},"webhook.S3Event":{"properties":{"EventName":{"type":"string"},"Key":{"type":"string"},"Records":{"items":{"$ref":"#/components/schemas/webhook.S3EventRecord"},"type":"array","uniqueItems":false}},"type":"object"},"webhook.S3EventRecord":{"properties":{"awsRegion":{"type":"string"},"eventName":{"type":"string"},"eventSource":{"type":"string"},"eventTime":{"type":"string"},"eventVersion":{"type":"string"},"requestParameters":{"$ref":"#/components/schemas/webhook.S3RequestParameters"},"responseElements":{"additionalProperties":{"type":"string"},"type":"object"},"s3":{"$ref":"#/components/schemas/webhook.S3Element"},"source":{"$ref":"#/components/schemas/webhook.S3Source"},"userIdentity":{"$ref":"#/components/schemas/webhook.S3Identity"}},"type":"object"},"webhook.S3Identity":{"properties":{"principalId":{"type":"string"}},"type":"object"},"webhook.S3Object":{"properties":{"contentType":{"type":"string"},"eTag":{"type":"string"},"key":{"type":"string"},"sequencer":{"type":"string"},"size":{"type":"integer"},"userMetadata":{"additionalProperties":{"type":"string"},"type":"object"}},"type":"object"},"webhook.S3RequestParameters":{"properties":{"principalId":{"type":"string"},"region":{"type":"string"},"sourceIPAddress":{"type":"string"}},"type":"object"},"webhook.S3Source":{"properties":{"host":{"type":"string"},"port":{"type":"string"},"userAgent":{"type":"string"}},"type":"object"}},"securitySchemes":{"bearerauth":{"bearerFormat":"JWT","scheme":"bearer","type":"http"}}},
    "info": {"contact":{"email":"viktorfreedom@gmail.com","name":"Viktor Menshchikov","url":"https://github.com/FlameInTheDark"},"description":"This is an API for the GoChat","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"title":"GoChat API","version":"1.0"},
    "externalDocs": {"description":"","url":""},
    "paths": {"/auth/confirmation":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.ConfirmationRequest"}}},"description":"Login data","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Registration completed, account created"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"409":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Discriminator is not unique"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Confirmation","tags":["Auth"]}},"/auth/login":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.LoginRequest"}}},"description":"Login data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.LoginResponse"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Authentication","tags":["Auth"]}},"/auth/recovery":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.PasswordRecoveryRequest"}}},"description":"Email for password recovery","required":true},"responses":{"202":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Recovery email sent"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Email not found"},"409":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Recovery email already sent"},"410":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User is banned"},"429":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Try again later"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Password Recovery","tags":["Auth"]}},"/auth/refresh":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.RefreshTokenResponse"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Refresh authentication token","tags":["Auth"]}},"/auth/registration":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.RegisterRequest"}}},"description":"Login data","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Registration email sent"},"302":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User already exist"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"429":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Try again later"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Registration","tags":["Auth"]}},"/auth/reset":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/auth.PasswordResetRequest"}}},"description":"Password reset data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Password reset successful"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Password Reset","tags":["Auth"]}},"/guild":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/guild.CreateGuildRequest"}}},"description":"Guild data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Guild"}}},"description":"Guild"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Create guild","tags":["Guild"]}},"/guild/{guild_id}":{"get":{"parameters":[{"description":"Guild id","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Guild"}}},"description":"Guild"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Get guild","tags":["Guild"]},"patch":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/guild.UpdateGuildRequest"}}},"description":"Update guild data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Guild"}}},"description":"Guild"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Update guild","tags":["Guild"]}},"/guild/{guild_id}/category":{"post":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/guild.CreateGuildChannelCategoryRequest"}}},"description":"Create category data","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Created"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Create guild channel category","tags":["Guild"]}},"/guild/{guild_id}/category/{category_id}":{"delete":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}},{"description":"Category ID (actually a channel with special type)","in":"path","name":"category_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Deleted"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Delete channel category","tags":["Guild"]}},"/guild/{guild_id}/channel":{"get":{"parameters":[{"description":"Guild id","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/dto.Channel"},"type":"array"}}},"description":"List of channels"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Get guild channels","tags":["Guild"]},"post":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/guild.CreateGuildChannelRequest"}}},"description":"Create channel data","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Created"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Create guild channel","tags":["Guild"]}},"/guild/{guild_id}/channel/order":{"patch":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/guild.PatchGuildChannelOrderRequest"}}},"description":"Update channel order data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Ok"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Member not found"},"406":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Permissions required"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Change channels order","tags":["Guild"]}},"/guild/{guild_id}/channel/{channel_id}":{"delete":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}},{"description":"Channel ID","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Deleted"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Delete channel","tags":["Guild"]},"get":{"parameters":[{"description":"Guild id","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}},{"description":"Channel id","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Channel"}}},"description":"Channel"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Get guild channel","tags":["Guild"]},"patch":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}},{"description":"Channel ID","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/guild.PatchGuildChannelRequest"}}},"description":"Request body","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Channel"}}},"description":"Ok"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Member not found"},"406":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Permissions required"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Change channels data","tags":["Guild"]}},"/guild/{guild_id}/member/{user_id}/roles":{"get":{"parameters":[{"description":"Guild ID","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}},{"description":"User ID","in":"path","name":"user_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/dto.Role"},"type":"array"}}},"description":"List of user roles"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect request body"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Member not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Get member roles","tags":["Guild"]}},"/message/channel/{channel_id}":{"get":{"parameters":[{"description":"Channel id","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}},{"description":"Start point for messages","in":"query","name":"from","schema":{"type":"integer"}},{"description":"Select direction","in":"query","name":"direction","schema":{"type":"string"}},{"description":"Message count limit","in":"query","name":"limit","schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/dto.Message"},"type":"array"}}},"description":"Messages"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Get messages","tags":["Message"]},"post":{"parameters":[{"description":"Channel id","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/message.SendMessageRequest"}}},"description":"Message data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Message"}}},"description":"Message"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Send message","tags":["Message"]}},"/message/channel/{channel_id}/attachment":{"post":{"parameters":[{"description":"Channel id","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/message.UploadAttachmentRequest"}}},"description":"Attachment data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.AttachmentUpload"}}},"description":"Attachment upload data"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"413":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"File too large"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Create attachment","tags":["Message"]}},"/message/channel/{channel_id}/{message_id}":{"delete":{"parameters":[{"description":"Message id","in":"path","name":"message_id","required":true,"schema":{"type":"integer"}},{"description":"Channel id","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Delete message","tags":["Message"]},"patch":{"parameters":[{"description":"Message id","in":"path","name":"message_id","required":true,"schema":{"type":"integer"}},{"description":"Channel id","in":"path","name":"channel_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/message.UpdateMessageRequest"}}},"description":"Message data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Message"}}},"description":"Message"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Update message","tags":["Message"]}},"/search/{guild_id}/messages":{"post":{"parameters":[{"description":"Channel id","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/search.MessageSearchRequest"}}},"description":"Search request data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/search.MessageSearchResponse"},"type":"array"}}},"description":"Messages"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"401":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Search messages","tags":["Search"]}},"/user/me":{"patch":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user.ModifyUserRequest"}}},"description":"Modify user data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Ok"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect ID"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Get user","tags":["User"]}},"/user/me/channels":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user.CreateDMRequest"}}},"description":"Recipient data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Channel"}}},"description":"Created DM channel"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Create DM channel","tags":["User"]}},"/user/me/channels/group":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user.CreateDMManyRequest"}}},"description":"Group DM data","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Channel"}}},"description":"Created group DM channel"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"403":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Create group DM channel","tags":["User"]}},"/user/me/guilds":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/dto.Guild"},"type":"array"}}},"description":"Guilds list"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Get user guilds","tags":["User"]}},"/user/me/guilds/{guild_id}":{"delete":{"parameters":[{"description":"Guild id","in":"path","name":"guild_id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"ok"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Guild not found"},"406":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Cannot leave own guild"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Leave guild","tags":["User"]}},"/user/me/guilds/{guild_id}/member":{"get":{"parameters":[{"description":"Guild id","in":"path","name":"guild_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.Member"}}},"description":"Guild member"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Member not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Get user guild member","tags":["User"]}},"/user/{user_id}":{"get":{"parameters":[{"description":"User ID or 'me'","in":"path","name":"user_id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dto.User"}}},"description":"User data"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Bad request"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Get user","tags":["User"]}},"/webhook/storage/events":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/webhook.S3Event"}}},"description":"S3 event","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Ok"},"400":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Incorrect ID"},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"User not found"},"500":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Something bad happened"}},"summary":"Storage event","tags":["Webhook"]}}},
    "openapi": "3.1.0",
    "servers": [
        {"url":"localhost/api/v1"}
    ]
}